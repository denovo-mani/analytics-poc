
DRUID_LOG4J=<?xml version="1.0" encoding="UTF-8"?><Configuration status="WARN"><Appenders><Console name="Console" target="SYSTEM_OUT"><PatternLayout pattern="%d{ISO8601} %p [%t] %c - %m%n" /></Console></Appenders><Loggers><Root level="info"><AppenderRef ref="Console" /></Root><Logger name="org.apache.druid.server.QueryLifecycle" level="info" additivity="false"><Appender-ref ref="Console" /></Logger><Logger name="org.apache.druid.server.coordinator" level="info" additivity="false"><Appender-ref ref="Console" /></Logger><Logger name="org.apache.druid.segment" level="info" additivity="false"><Appender-ref ref="Console" /></Logger><Logger name="org.apache.druid.initialization" level="info" additivity="false"><Appender-ref ref="Console" /></Logger><Logger name="org.skife.config" level="warn" additivity="false"><Appender-ref ref="Console" /></Logger><Logger name="com.sun.jersey.guice" level="warn" additivity="false"><Appender-ref ref="Console" /></Logger></Loggers></Configuration>

druid_extensions_loadList=["kafka-emitter", "postgresql-metadata-storage", "druid-histogram", "druid-datasketches", "druid-kafka-extraction-namespace", "druid-kafka-indexing-service", "druid-lookups-cached-global", "postgresql-metadata-storage"]

# Zookeeper
druid_zk_service_host=zookeeper
druid_zk_paths_base=/druid

# For PostgreSQL:
druid_metadata_storage_type=postgresql
druid_metadata_storage_connector_connectURI=jdbc:postgresql://postgres:5432/druid
druid_metadata_storage_connector_user=druid
druid_metadata_storage_connector_password=druid

# For local disk (only viable in a cluster if this is a network mount):
druid_storage_type=local
druid_storage_storageDirectory=var/druid/segments

# For local disk (only viable in a cluster if this is a network mount):
druid_indexer_logs_type=file
druid_indexer_logs_directory=var/data/indexing-logs

# SQL
druid_sql_enable=true

# Lookups
druid_lookup_enableLookupSyncOnStartup=false

#################### Common Functions Done #####################

# Java tuning
druid_indexer_runner_javaOptsArray=["-server", "-Xms8g", "-Xmx8g", "-XX:MaxDirectMemorySize=13g", "-XX:+ExitOnOutOfMemoryError", "-XX:+UseG1GC", "-Duser.timezone=UTC", "-Dfile.encoding=UTF-8", "-Djava.io.tmpdir=var/tmp", "-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager"]

# HTTP server settings
druid_server_http_numThreads=60

# Processing threads and buffers
druid_processing_buffer_sizeBytes=500MiB
druid_processing_numMergeBuffers=4
druid_processing_numThreads=15
druid_processing_tmpDir=var/druid/processing

# Segment storage
druid_segmentCache_locations=[{"path":"var/druid/segment-cache","maxSize":"60g"}]

# Query cache
druid_historical_cache_useCache=true
druid_historical_cache_populateCache=true
druid_cache_type=caffeine
druid_cache_sizeInBytes=500MiB

# Extras
druid_auth_allowUnauthenticatedHttpOptions=true

druid_query_groupBy_maxOnDiskStorage=4
druid_query_groupBy_maxMergingDictionarySize=300000000